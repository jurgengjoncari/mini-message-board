<div class="chat-container">
  <div class="messages">
    @for (msg of messages; track msg._id) {
      <div class="chat-message">
        <div class="chat-author">{{ msg.senderId?.username || 'Unknown' }}</div>
        <div class="chat-content">{{ msg.content }}</div>
        <div class="chat-time">{{ msg.createdAt | date:'short' }}</div>
      </div>
    }
  </div>
  <form (ngSubmit)="sendMessage()" class="chat-form">
    <input
      type="text"
      [(ngModel)]="newMessage"
      name="message"
      (keyup.enter)="sendMessage()"
      placeholder="Type your message here..."
      class="chat-input"
      required
    />
    <button type="submit">Send</button>
  </form>
</div>
